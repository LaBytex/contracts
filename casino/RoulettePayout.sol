// SPDX-License-Identifier: GPL-3.0
pragma solidity ^0.6.6;

library RoulettePayout {
    /**
     * @dev core roulette logic to calculate payout based on winning number
     * res - winning number for current game
     * bets - placement sof bets on roulette table
     * pos - position of bets place on the roulette table
     */
    function getPayout(uint8 res, uint[] memory bets, uint[] memory pos) internal pure returns(uint) {
  
      uint[159] memory p;
      for (uint i = 0; i < bets.length; i++) {
        p[pos[i]] = bets[i];
      }
      uint pay = 0;
      require(res <= 37, "Invalid winning number");
      
      if (res == 0) {
        pay += ((p[0] * 35) + p[0]) + ((p[38] * 17) + p[38]) + ((p[39] * 17) + p[39]) +
            ((p[99] * 11) + p[99]) + ((p[100] * 11) + p[100]) + ((p[146] * 6) + p[146]);
      } else if (res == 1) {
        pay += ((p[1] * 35) + p[1]) + ((p[39] * 17) + p[39]) + ((p[41] * 17) + p[41]) + 
            ((p[43] * 17) + p[43]) + ((p[100] * 11) + p[100]) + ((p[101] * 11) + p[101]) + 
            ((p[113] * 8) + p[113]);
        pay += ((p[146] * 6) + p[146]) + ((p[135] * 5) + p[135]) + (p[147] * 3) + (p[150] * 3) + 
            (p[155] * 2) + (p[157] * 2) + (p[153] * 2);
      } else if (res == 2) {
        pay += ((p[2] * 35) + p[2]) + ((p[41] * 17) + p[41]) + ((p[42] * 17) + p[42]) +
            ((p[44] * 17) + p[44]) + ((p[98] * 11) + p[98]) + ((p[99] * 11) + p[99]) +
            ((p[100] * 11) + p[100]);
        pay += ((p[101] * 11) + p[101]) + ((p[113] * 8) + p[113]) + ((p[114] * 8) + p[114]) +
            ((p[146] * 6) + p[146]) + ((p[135] * 5) + p[135]) + (p[148] * 3) + (p[150] * 3) +
            (p[156] * 2) + (p[157] * 2);
        pay += (p[154] * 2);
      } else if (res == 3) {
        pay += ((p[3] * 35) + p[3]) + ((p[40] * 17) + p[40]) + ((p[42] * 17) + p[42]) + 
            ((p[45] * 17) + p[45]) + ((p[98] * 11) + p[98]) + ((p[101] * 11) + p[101]) +
            ((p[114] * 8) + p[114]) ;
        pay += ((p[146] * 6) + p[146]) + ((p[135] * 5) + p[135]) + (p[149] * 3) +
            (p[150] * 3) + (p[155] * 2) + (p[157] * 2) +(p[153] * 2);
      } else if (res == 4) {
        pay += ((p[4] * 35) + p[4]) + ((p[43] * 17) + p[43]) + ((p[46] * 17) + p[46]) +
            ((p[48] * 17) + p[48]) + ((p[102] * 11) + p[102]) + ((p[113] * 8) + p[113]) +
            ((p[115] * 8) + p[115]);
        pay += ((p[135] * 5) + p[135]) + ((p[136] * 5) + p[136]) + (p[147] * 3) +
            (p[150] * 3) + (p[156] * 2) + (p[157] * 2) + (p[154] * 2);
      } else if (res == 5) {
        pay += ((p[5] * 35) + p[5]) + ((p[44] * 17) + p[44]) + ((p[46] * 17) + p[46]) +
            ((p[47] * 17) + p[47]) + ((p[49] * 17) + p[49]) + ((p[102] * 11) + p[102]) +
            ((p[113] * 8) + p[113]) ;
        pay += ((p[114] * 8) + p[114]) + ((p[115] * 8) + p[115]) + ((p[116] * 8) + p[116]) +
            ((p[135] * 5) + p[135]) + ((p[136] * 5) + p[136]) + (p[148] * 3) +
            (p[150] * 3) + (p[155] * 2) + (p[157] * 2);
        pay += (p[153] * 2);
      } else if (res == 6) {
        pay += ((p[6] * 35) + p[6]) + ((p[45] * 17) + p[45]) + ((p[47] * 17) + p[47]) +
            ((p[50] * 17) + p[50]) + ((p[102] * 11) + p[102]) + ((p[114] * 8) + p[114]) +
            ((p[116] * 8) + p[116]) ;
        pay += ((p[135] * 5) + p[135]) + ((p[136] * 5) + p[136]) + (p[149] * 3) +
            (p[150] * 3) + (p[156] * 2) + (p[157] * 2) + (p[154] * 2);
      } else if (res == 7) {
        pay += ((p[7] * 35) + p[7]) + ((p[48] * 17) + p[48]) + ((p[51] * 17) + p[51]) +
            ((p[53] * 17) + p[53]) + ((p[103] * 11) + p[103]) + ((p[115] * 8) + p[115]) +
            ((p[117] * 8) + p[117]) ;
        pay += ((p[136] * 5) + p[136]) + ((p[137] * 5) + p[137]) + (p[147] * 3) +
            (p[150] * 3) + (p[155] * 2) + (p[157] * 2) + (p[153] * 2);
      } else if (res == 8) {
        pay += ((p[8] * 35) + p[8]) + ((p[49] * 17) + p[49]) + ((p[51] * 17) + p[51]) +
            ((p[52] * 17) + p[52]) + ((p[54] * 17) + p[54]) + ((p[103] * 11) + p[103]) +
            ((p[115] * 8) + p[115]);
        pay += ((p[116] * 8) + p[116]) + ((p[117] * 8) + p[117]) + ((p[118] * 8) + p[118]) +
            ((p[136] * 5) + p[136]) + ((p[137] * 5) + p[137]) + (p[148] * 3) +
            (p[150] * 3) + (p[156] * 2) + (p[157] * 2);
        pay += (p[154] * 2);
      } else if (res == 9) {
        pay += ((p[9] * 35) + p[9]) + ((p[50] * 17) + p[50]) + ((p[52] * 17) + p[52]) +
            ((p[55] * 17) + p[55]) + ((p[103] * 11) + p[103]) + ((p[116] * 8) + p[116]) +
            ((p[118] * 8) + p[118]);
        pay += ((p[136] * 5) + p[136]) + ((p[137] * 5) + p[137]) + (p[149] * 3) +
            (p[150] * 3) + (p[155] * 2) + (p[157] * 2) + (p[153] * 2);
      } else if (res == 10) {
        pay += ((p[10] * 35) + p[10]) + ((p[53] * 17) + p[53]) + ((p[56] * 17) + p[56]) +
            ((p[58] * 17) + p[58]) + ((p[104] * 11) + p[104]) + ((p[117] * 8) + p[117]) +
            ((p[119] * 8) + p[119]);
        pay += ((p[137] * 5) + p[137]) + ((p[138] * 5) + p[138]) + (p[147] * 3) +
            (p[150] * 3) + (p[156] * 2) + (p[157] * 2) + (p[154] * 2);
      } else if (res == 11) {
        pay += ((p[11] * 35) + p[11]) + ((p[54] * 17) + p[54]) + ((p[56] * 17) + p[56]) +
            ((p[57] * 17) + p[57]) + ((p[59] * 17) + p[59]) + ((p[104] * 11) + p[104]) +
            ((p[117] * 8) + p[117]);
        pay += ((p[118] * 8) + p[118]) + ((p[119] * 8) + p[119]) + ((p[120] * 8) + p[120]) +
            ((p[137] * 5) + p[137]) + ((p[138] * 5) + p[138]) + (p[148] * 3) +
            (p[150] * 3) + (p[155] * 2) +(p[157] * 2);
        pay += (p[154] * 2);
      } else if (res == 12) {
        pay += ((p[12] * 35) + p[12]) + ((p[55] * 17) + p[55]) + ((p[57] * 17) + p[57]) +
            ((p[60] * 17) + p[60]) + ((p[104] * 11) + p[104]) + ((p[118] * 8) + p[118]) +
            ((p[120] * 8) + p[120]);
        pay += ((p[137] * 5) + p[137]) + ((p[138] * 5) + p[138]) + (p[149] * 3) +
            (p[150] * 3) + (p[156] * 2) + (p[157] * 2) + (p[153] * 2);
      } else if (res == 13) {
        pay += ((p[13] * 35) + p[13]) + ((p[58] * 17) + p[58]) + ((p[61] * 17) + p[61]) +
            ((p[63] * 17) + p[63]) + ((p[105] * 11) + p[105]) + ((p[119] * 8) + p[119]) +
            ((p[121] * 8) + p[121]);
        pay += ((p[138] * 5) + p[138]) + ((p[139] * 5) + p[139]) + (p[147] * 3) +
            (p[151] * 3) + (p[155] * 2) + (p[157] * 2) + (p[154] * 2);
      } else if (res == 14) {
        pay += ((p[14] * 35) + p[14]) + ((p[59] * 17) + p[59]) + ((p[61] * 17) + p[61]) +
            ((p[62] * 17) + p[62]) + ((p[64] * 17) + p[64]) + ((p[105] * 11) + p[105]) +
            ((p[119] * 8) + p[119]);
        pay += ((p[120] * 8) + p[120]) + ((p[121] * 8) + p[121]) + ((p[122] * 8) + p[122]) +
            ((p[138] * 5) + p[138]) + ((p[139] * 5) + p[139]) + (p[148] * 3) +
            (p[151] * 3) + (p[156] * 2) + (p[157] * 2);
        pay += (p[153] * 2);
      } else if (res == 15) {
        pay += ((p[15] * 35) + p[15]) + ((p[60] * 17) + p[60]) + ((p[62] * 17) + p[62]) +
            ((p[65] * 17) + p[65]) + ((p[105] * 11) + p[105]) + ((p[120] * 8) + p[120]) +
            ((p[122] * 8) + p[122]);
        pay += ((p[138] * 5) + p[138]) + ((p[139] * 5) + p[139]) + (p[149] * 3) +
            (p[151] * 3) + (p[155] * 2) + (p[157] * 2) + (p[154] * 2);
      } else if (res == 16) {
        pay += ((p[16] * 35) + p[16]) + ((p[63] * 17) + p[63]) + ((p[66] * 17) + p[66]) +
            ((p[68] * 17) + p[68]) + ((p[106] * 11) + p[106]) + ((p[121] * 8) + p[121]) +
            ((p[123] * 8) + p[123]);
        pay += ((p[139] * 5) + p[139]) + ((p[140] * 5) + p[140]) + (p[147] * 3) +
            (p[151] * 3) + (p[156] * 2) + (p[157] * 2) + (p[153] * 2);
      } else if (res == 17) {
        pay += ((p[17] * 35) + p[17]) + ((p[64] * 17) + p[64]) + ((p[66] * 17) + p[66]) +
            ((p[67] * 17) + p[67]) + ((p[70] * 17) + p[70]) + ((p[106] * 11) + p[106]) +
            ((p[121] * 8) + p[121]);
        pay += ((p[122] * 8) + p[122]) + ((p[123] * 8) + p[123]) + ((p[124] * 8) + p[124]) +
            ((p[139] * 5) + p[139]) + ((p[140] * 5) + p[140]) + (p[148] * 3) +
            (p[151] * 3) + (p[155] * 2) + (p[157] * 2);
        pay += (p[154] * 2);
      } else if (res == 18) {
        pay += ((p[18] * 35) + p[18]) + ((p[65] * 17) + p[65]) + ((p[67] * 17) + p[67]) +
            ((p[70] * 17) + p[70]) + ((p[106] * 11) + p[106]) + ((p[122] * 8) + p[122]) +
            ((p[124] * 8) + p[124]);
        pay += ((p[139] * 5) + p[139]) + ((p[140] * 5) + p[140]) + (p[149] * 3) +
            (p[151] * 3) + (p[156] * 2) + (p[157] * 2) + (p[153] * 2);
      } else if (res == 19) {
        pay += ((p[19] * 35) + p[19]) + ((p[68] * 17) + p[68]) + ((p[71] * 17) + p[71]) +
            ((p[73] * 17) + p[73]) + ((p[107] * 11) + p[107]) + ((p[123] * 8) + p[123]) +
            ((p[125] * 8) + p[125]);
        pay += ((p[140] * 5) + p[140]) + ((p[141] * 5) + p[141]) + (p[147] * 3) +
            (p[151] * 3) + (p[155] * 2) + (p[158] * 2) + (p[153] * 2);
      } else if (res == 20) {
        pay += ((p[20] * 35) + p[20]) + ((p[69] * 17) + p[69]) + ((p[71] * 17) + p[71]) +
            ((p[72] * 17) + p[72]) + ((p[74] * 17) + p[74]) + ((p[107] * 11) + p[107]) +
            ((p[123] * 8) + p[123]) ;
        pay += ((p[124] * 8) + p[124]) + ((p[125] * 8) + p[125]) + ((p[126] * 8) + p[126]) +
            ((p[140] * 5) + p[140]) + ((p[141] * 5) + p[141]) + (p[148] * 3) +
            (p[151] * 3) + (p[156] * 2) + (p[158] * 2);
        pay += (p[154] * 2);
      } else if (res == 21) {
        pay += ((p[21] * 35) + p[21]) + ((p[70] * 17) + p[70]) + ((p[72] * 17) + p[72]) +
            ((p[75] * 17) + p[75]) + ((p[107] * 11) + p[107]) + ((p[124] * 8) + p[124]) +
            ((p[126] * 8) + p[126]);
        pay += ((p[140] * 5) + p[140]) + ((p[141] * 5) + p[141]) + (p[149] * 3) +
            (p[151] * 3) + (p[155] * 2) + (p[158] * 2) + (p[153] * 2);
      } else if (res == 22) {
        pay += ((p[22] * 35) + p[22]) + ((p[73] * 17) + p[73]) + ((p[76] * 17) + p[76]) +
            ((p[78] * 17) + p[78]) + ((p[108] * 11) + p[108]) + ((p[125] * 8) + p[125]) + 
            ((p[127] * 8) + p[127]);
        pay += ((p[141] * 5) + p[141]) + ((p[142] * 5) + p[142]) + (p[147] * 3) +
            (p[151] * 3) + (p[156] * 2) + (p[158] * 2) + (p[154] * 2);
      } else if (res == 23) {
        pay += ((p[23] * 35) + p[23]) + ((p[74] * 17) + p[74]) + ((p[76] * 17) + p[76]) +
            ((p[77] * 17) + p[77]) + ((p[79] * 17) + p[79]) + ((p[108] * 11) + p[108]) +
            ((p[125] * 8) + p[125]);
        pay += ((p[126] * 8) + p[126]) + ((p[127] * 8) + p[127]) + ((p[128] * 8) + p[128]) +
            ((p[141] * 5) + p[141]) + ((p[142] * 5) + p[142]) + (p[148] * 3) +
            (p[151] * 3) + (p[155] * 2) + (p[158] * 2) ;
        pay += (p[153] * 2);
      } else if (res == 24) {
        pay += ((p[24] * 35) + p[24]) + ((p[75] * 17) + p[75]) + ((p[77] * 17) + p[77]) +
            ((p[80] * 17) + p[80]) + ((p[108] * 11) + p[108]) + ((p[126] * 8) + p[126]) +
            ((p[128] * 8) + p[128]);
        pay += ((p[141] * 5) + p[141]) + ((p[142] * 5) + p[142]) + (p[149] * 3) +
            (p[151] * 3) + (p[156] * 2) + (p[158] * 2) + (p[154] * 2);
      } else if (res == 25) {
        pay += ((p[25] * 35) + p[25]) + ((p[78] * 17) + p[78]) + ((p[81] * 17) + p[81]) +
            ((p[83] * 17) + p[83]) + ((p[109] * 11) + p[109]) + ((p[127] * 8) + p[127]) + 
            ((p[129] * 8) + p[129]);
        pay +=
            ((p[142] * 5) + p[142]) + ((p[143] * 5) + p[143]) +
            (p[147] * 3) + (p[152] * 3) + (p[155] * 2) + (p[158] * 2) + (p[153] * 2);
      } else if (res == 26) {
        pay += ((p[26] * 35) + p[26]) + ((p[79] * 17) + p[79]) + ((p[81] * 17) + p[81]) + 
            ((p[82] * 17) + p[82]) + ((p[84] * 17) + p[84]) + ((p[109] * 11) + p[109]) + 
            ((p[127] * 8) + p[127]);
        pay += ((p[128] * 8) + p[128]) + ((p[129] * 8) + p[129]) + ((p[130] * 8) + p[130]) + 
            ((p[142] * 5) + p[142]) + ((p[143] * 5) + p[143]) + (p[148] * 3) + (p[152] * 3) + 
            (p[156] * 2) + (p[158] * 2);
        pay += (p[154] * 2);
      } else if (res == 27) {
        pay += ((p[27] * 35) + p[27]) + ((p[80] * 17) + p[80]) + ((p[82] * 17) + p[82]) +
            ((p[85] * 17) + p[85]) + ((p[109] * 11) + p[109]) + ((p[128] * 8) + p[128]) +
            ((p[130] * 8) + p[130]);
        pay += ((p[142] * 5) + p[142]) + ((p[143] * 5) + p[143]) + (p[149] * 3) +
            (p[152] * 3) + (p[155] * 2) + (p[158] * 2) + (p[153] * 2);
      } else if (res == 28) {
        pay += ((p[28] * 35) + p[28]) + ((p[80] * 17) + p[80]) + ((p[82] * 17) + p[82]) +
            ((p[85] * 17) + p[85]) + ((p[110] * 11) + p[110]) + ((p[128] * 8) + p[128]) +
            ((p[130] * 8) + p[130]);
        pay += ((p[143] * 5) + p[143]) + ((p[144] * 5) + p[144]) + (p[147] * 3) +
            (p[152] * 3) + (p[156] * 2) + (p[158] * 2) + (p[154] * 2);
      } else if (res == 29) {
        pay += ((p[29] * 35) + p[29]) + ((p[84] * 17) + p[84]) + ((p[86] * 17) + p[86]) +
            ((p[87] * 17) + p[87]) + ((p[89] * 17) + p[89]) + ((p[110] * 11) + p[110]) +
            ((p[128] * 8) + p[128]) ;
        pay += ((p[129] * 8) + p[129]) + ((p[130] * 8) + p[130]) + ((p[131] * 8) + p[131]) +
            ((p[143] * 5) + p[143]) + ((p[144] * 5) + p[144]) + 
            (p[148] * 3) + (p[152] * 3) + (p[155] * 2) + (p[158] * 2);
        pay += (p[154] * 2);
      } else if (res == 30) {
        pay += ((p[30] * 35) + p[30]) + ((p[85] * 17) + p[85]) + ((p[87] * 17) + p[87]) +
            ((p[90] * 17) + p[90]) + ((p[110] * 11) + p[110]) + ((p[129] * 8) + p[129]) +
            ((p[131] * 8) + p[131]) ;
        pay += ((p[143] * 5) + p[143]) + ((p[144] * 5) + p[144]) + (p[149] * 3) +
            (p[152] * 3) + (p[156] * 2) + (p[158] * 2) + (p[153] * 2);
      } else if (res == 31) {
        pay += ((p[31] * 35) + p[31]) + ((p[88] * 17) + p[88]) + ((p[91] * 17) + p[91]) +
            ((p[93] * 17) + p[93]) + ((p[111] * 11) + p[111]) + ((p[130] * 8) + p[130]) +
            ((p[132] * 8) + p[132]) ;
        pay += ((p[144] * 5) + p[144]) + ((p[145] * 5) + p[145]) + (p[147] * 3) +
            (p[152] * 3) + (p[155] * 2) + (p[158] * 2) + (p[154] * 2);
      } else if (res == 32) {
        pay += ((p[32] * 35) + p[32]) + ((p[89] * 17) + p[89]) + ((p[91] * 17) + p[91]) +
            ((p[92] * 17) + p[92]) + ((p[93] * 17) + p[93]) + ((p[111] * 11) + p[111]) +
            ((p[130] * 8) + p[130]) ;
        pay += ((p[131] * 8) + p[131]) + ((p[132] * 8) + p[132]) + ((p[133] * 8) + p[133]) +
            ((p[144] * 5) + p[144]) + ((p[145] * 5) + p[145]) + (p[148] * 3) +
            (p[152] * 3) + (p[156] * 2) + (p[158] * 2);
        pay += (p[153] * 2);
      } else if (res == 33) {
        pay += ((p[33] * 35) + p[33]) + ((p[90] * 17) + p[90]) + ((p[92] * 17) + p[92]) +
            ((p[95] * 17) + p[95]) + ((p[111] * 11) + p[111]) + ((p[131] * 8) + p[131]) +
            ((p[133] * 8) + p[133]);
        pay += ((p[144] * 5) + p[144]) + ((p[145] * 5) + p[145]) + (p[149] * 3) +
            (p[152] * 3) + (p[155] * 2) + (p[158] * 2) + (p[154] * 2);
      } else if (res == 34) {
        pay += ((p[34] * 35) + p[34]) + ((p[93] * 17) + p[93]) + ((p[96] * 17) + p[96]) +
            ((p[112] * 11) + p[112]) + ((p[132] * 8) + p[132]) + ((p[134] * 8) + p[134]) +
            ((p[145] * 5) + p[145]);
        pay += (p[147] * 3) + (p[152] * 3) + (p[156] * 2) + (p[158] * 2) + (p[153] * 2);
      } else if (res == 35) {
        pay += ((p[35] * 35) + p[35]) + ((p[94] * 17) + p[94]) + ((p[96] * 17) + p[96]) +
            ((p[97] * 17) + p[97]) + ((p[112] * 11) + p[112]) + ((p[133] * 8) + p[133]) +
            ((p[134] * 8) + p[134]) ;
        pay += ((p[145] * 5) + p[145]) + (p[148] * 3) + (p[152] * 3) +
            (p[155] * 2) + (p[158] * 2) + (p[154] * 2);
      } else if (res == 36) {
        pay += ((p[36] * 35) + p[36]) + ((p[95] * 17) + p[95]) + ((p[97] * 17) + p[97]) +
            ((p[112] * 11) + p[112]) + ((p[134] * 8) + p[134]) + ((p[145] * 5) + p[145]) +
            (p[149] * 3) + (p[152] * 3) ;
        pay += (p[156] * 2) + (p[158] * 2) + (p[153] * 2);
      } else if (res == 37) {
        pay += ((p[37] * 35) + p[37]) + ((p[38] * 17) + p[38]) + ((p[40] * 17) + p[40]) +
            ((p[98] * 11) + p[98]) + ((p[99] * 11) + p[99]) + ((p[146] * 6) + p[146]);
      }

      return pay;

    }
}